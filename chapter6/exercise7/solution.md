read returns an error, and our Read wrapper function terminates the server. Servers must be more robust than this. Notice that we handle this condition in Figure 6.26, although even that code is inadequate. Consider what happens if connectivity is lost between the client and server and one of the server's responses eventually times out. The error returned could be ETIMEDOUT.
In general, a server should not abort for errors like these. It should log the error, close the socket, and continue servicing other clients. Realize that handliinig an error of this type by aborting is unacceptable in a server such as this one, where one process is handling all clients. But if the server was a child handling just one client, then having that one child abort would not afferct the paretn (which we assume handles all new connection and spawns the children), or any of the other children that are servicing other clients.
