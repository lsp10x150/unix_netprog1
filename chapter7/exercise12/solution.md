The server parent in Fig 5.2 spends most of its time blocked in the call to accept and the child in Fig 5.3 spends most of its time blocked in the call to read, which is called by readline. The keep-alive option has no effect on a listening socket so the parent is not affected should the client host crash. The child's read will return an error of ETIMEDOUT, sometime around two hours after the last data exchange across the connection.
